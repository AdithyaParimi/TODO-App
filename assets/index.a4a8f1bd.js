var W=Object.defineProperty;var j=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var z=(a,t,n)=>t in a?W(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,H=(a,t)=>{for(var n in t||(t={}))R.call(t,n)&&z(a,n,t[n]);if(j)for(var n of j(t))J.call(t,n)&&z(a,n,t[n]);return a};import{d as B,r as _,o as c,c as u,a as s,w as A,b as v,v as k,e as D,F as y,f as T,g as Y,t as h,n as P,h as E,u as f,i as O,j as C,k as L,l as $,m as N,p as w,q as K,s as G,x as Q,y as X,z as Z,A as ss,B as es}from"./vendor.21e12da0.js";const ts=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};ts();const F=B("tasks",{state:()=>({tasks:[],currentTasks:[],completedTasks:[],session:U()}),actions:{async completedTasks(){const a=await this.session.api("tasks/completed");this.completedTasks=a},async currentTasks(){const a=await this.session.api("tasks/current");this.currentTasks=a},async currentUserTasks(){const a=await this.session.api("tasks/currentUserTasks");this.tasks=a},close(a){this.tasks.splice(a,1)},async addNewTask(a,t,n,i,o=!1){return await this.session.api("tasks",{completed:o,message:a,dueDate:new Date(t),createdBy:i,assignedTo:n})}}}),ns={class:"section"},os={class:"container"},as={class:"columns"},is={class:"column"},ls={class:"panel"},cs={class:"panel-block"},us=["onSubmit"],rs={class:"control has-icons-left"},ds=s("span",{class:"icon is-left"},[s("i",{class:"fas fa-calendar-plus","aria-hidden":"true"})],-1),ps=s("option",{disabled:"",selected:""},"Assign to",-1),_s=["value"],ms=s("button",{type:"submit",class:"button"},"Create",-1),vs=Y('<a class="panel-block columns title is-4"><div class="column is-two-quarter"><span class="Heading">Task Title</span></div><div class="column is-one-quarter"> Due Date </div><div class="column is-one-quarter"> Assigned To </div></a>',1),hs={class:"column is-two-quarter"},gs=["onUpdate:modelValue","disabled"],fs={class:"column is-one-quarter"},bs={key:0,class:"select column is-one-quarter"},ks=["v-model"],$s=["value"],ys={key:1,class:"column is-one-quarter"},Ts={setup(a){const t=U();_("All");const n=F(),i=_([]);n.currentUserTasks().then(()=>{i.value=n.tasks});const o=_(),l=_(),m=_(),r=_([]);t.getUsers().then(b=>{r.value=t.users});function g(){n.addNewTask(o.value,l.value,m.value,t.user._id).then(()=>{n.currentUserTasks().then(()=>{i.value=n.tasks})})}return(b,d)=>(c(),u("div",ns,[s("div",os,[s("div",as,[s("div",is,[s("article",ls,[s("div",cs,[s("form",{onSubmit:A(g,["prevent"])},[s("p",rs,[v(s("input",{class:"input is-primary",type:"text",placeholder:"New Task","onUpdate:modelValue":d[0]||(d[0]=e=>o.value=e)},null,512),[[k,o.value]]),ds]),s("div",null,[v(s("input",{type:"date",class:"input","onUpdate:modelValue":d[1]||(d[1]=e=>l.value=e)},null,512),[[k,l.value]]),v(s("select",{"onUpdate:modelValue":d[2]||(d[2]=e=>m.value=e)},[ps,(c(!0),u(y,null,T(r.value,e=>(c(),u("option",{key:e._id,value:e._id},h(e.handle),9,_s))),128))],512),[[D,m.value]]),ms])],40,us)]),vs,(c(!0),u(y,null,T(i.value,e=>{var S,x,V;return c(),u("div",{class:P(["panel-block columns",{"text-dec-line-through":e.completed==!0}]),key:e.message},[s("div",hs,[v(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":p=>e.completed=p,disabled:e.assignedTo!=((S=f(t).user)==null?void 0:S.id)},null,8,gs),[[E,e.completed]]),s("span",null,h(e.message),1)]),s("div",fs,h(f(O)(String(e.dueDate)).format("MMM-DD-YYYY")),1),e.createdBy==((x=f(t).user)==null?void 0:x._id)?(c(),u("div",bs,[s("select",{"v-model":e.assignedTo,class:"select"},[(c(!0),u(y,null,T(r.value,p=>(c(),u("option",{key:p._id,value:e.assignedTo},h(p.handle),9,$s))),128))],8,ks)])):(c(),u("div",ys,h((V=r.value.find(p=>p._id===e.assignedTo))==null?void 0:V.handle),1))],2)}),128))])])])])]))}},ws={id:"main"},Us=["onSubmit"],Ss=s("h1",null,"Login",-1),xs=s("label",{for:"username"},"User Name",-1),Vs=s("label",{for:"password"},"Password",-1),Ns=s("input",{type:"submit",class:"btn btn-primary",style:{"margin-top":"15px"}},null,-1),qs=w(" \xA0 "),Ds=s("span",{class:"icon"},[s("i",{class:"fa fa-sign-in"})],-1),Ls=s("span",null,"Signup",-1),As=C({setup(a){const t=U(),n=_(),i=_();function o(){t.Login(n.value,i.value)}function l(m,r){t.Login(m,r)}return(m,r)=>{const g=L("router-link");return c(),u("div",ws,[s("form",{onSubmit:A(o,["prevent"])},[Ss,s("div",null,[xs,v(s("input",{id:"username",class:"input form-control",placeholder:"User Name ","onUpdate:modelValue":r[0]||(r[0]=b=>n.value=b)},null,512),[[k,n.value]])]),s("div",null,[Vs,v(s("input",{id:"password",class:"input form-control",placeholder:"Password",type:"password","onUpdate:modelValue":r[1]||(r[1]=b=>i.value=b)},null,512),[[k,i.value]])]),Ns],40,Us),qs,s("div",null,[s("input",{type:"button",value:"Direct Login",class:"btn btn-primary",onClick:r[2]||(r[2]=b=>l("president@newpaltz.edu","hugo"))})]),$(g,{class:"button is-warning my-5",to:"/signup"},{default:N(()=>[Ds,Ls]),_:1})])}}}),Cs={class:"section"},Ms=s("h1",{class:"title"},"Signup",-1),Bs=s("label",{for:"Name"},"Name",-1),Ys=s("label",{for:"username"},"User Name",-1),Ps=s("label",{for:"email"},"Email",-1),Es=s("label",{for:"password"},"Password",-1),Os=s("span",{class:"icon"},[s("i",{class:"fa fa-sign-in"})],-1),Fs=s("span",null,"Signup",-1),Is=[Os,Fs],js=w(" \xA0 "),zs=s("span",{class:"icon"},[s("i",{class:"fa fa-sign-in"})],-1),Hs=s("span",null,"Login",-1),Ws=C({setup(a){const t=U(),n=_(),i=_(),o=_(),l=_();function m(){const r={name:n.value,handle:i.value,password:o.value,email:l.value,id:0,pic:""};t.Signup(r)}return(r,g)=>{const b=L("router-link");return c(),u("div",Cs,[Ms,s("div",null,[Bs,v(s("input",{id:"name",class:"input",placeholder:"Name","onUpdate:modelValue":g[0]||(g[0]=d=>n.value=d)},null,512),[[k,n.value]])]),s("div",null,[Ys,v(s("input",{id:"username",class:"input",placeholder:"User Name ","onUpdate:modelValue":g[1]||(g[1]=d=>i.value=d)},null,512),[[k,i.value]])]),s("div",null,[Ps,v(s("input",{id:"email",class:"input",placeholder:"email","onUpdate:modelValue":g[2]||(g[2]=d=>l.value=d)},null,512),[[k,l.value]])]),s("div",null,[Es,v(s("input",{id:"password",class:"input",placeholder:"Password","onUpdate:modelValue":g[3]||(g[3]=d=>o.value=d)},null,512),[[k,o.value]])]),s("button",{class:"button is-primary my-5",onClick:m},Is),js,$(b,{class:"button is-warning my-5",to:"/login"},{default:N(()=>[zs,Hs]),_:1})])}}}),Rs={class:"section"},Js={class:"container"},Ks={class:"columns"},Gs={class:"column"},Qs={class:"panel"},Xs={class:"panel-block"},Zs=["onSubmit"],se={class:"control has-icons-left"},ee=s("span",{class:"icon is-left"},[s("i",{class:"fas fa-calendar-plus","aria-hidden":"true"})],-1),te=s("option",{disabled:"",selected:""},"Assign to",-1),ne=s("button",{type:"submit",class:"button"},"Create",-1),oe=Y('<a class="panel-block columns title is-4"><div class="column is-two-quarter"><span class="Heading">Task Title</span></div><div class="column is-one-quarter"> Due Date </div><div class="column is-one-quarter"> Assigned To </div></a>',1),ae={class:"column is-two-quarter"},ie=["onUpdate:modelValue","disabled"],le={class:"column is-one-quarter"},ce={key:0,class:"select column is-one-quarter"},ue=["onUpdate:modelValue"],re=["value"],de={key:1,class:"column is-one-quarter"},pe={setup(a){const t=U();_("All");const n=F(),i=_([]);n.currentTasks().then(b=>{i.value=n.currentTasks});const o=_([]);t.getUsers().then(b=>{o.value=t.users});const l=_(),m=_(),r=_();function g(){tasksService.addNewTask(l.value,m.value,r.value,t.user._id).then(()=>{tasksService.currentUserTasks().then(()=>{allTasks.value=tasksService.tasks})})}return(b,d)=>(c(),u("div",Rs,[s("div",Js,[s("div",Ks,[s("div",Gs,[s("article",Qs,[s("div",Xs,[s("form",{onSubmit:A(g,["prevent"])},[s("p",se,[v(s("input",{class:"input is-primary",type:"text",placeholder:"New Task","onUpdate:modelValue":d[0]||(d[0]=e=>l.value=e)},null,512),[[k,l.value]]),w(" "+h(l.value)+" ",1),ee]),s("div",null,[v(s("input",{type:"date",class:"input","onUpdate:modelValue":d[1]||(d[1]=e=>m.value=e)},null,512),[[k,m.value]]),v(s("select",{"onUpdate:modelValue":d[2]||(d[2]=e=>r.value=e)},[te,(c(!0),u(y,null,T(o.value,e=>(c(),u("option",{key:e._id},h(e.handle),1))),128))],512),[[D,r.value]]),ne])],40,Zs)]),oe,(c(!0),u(y,null,T(i.value,e=>{var S,x,V;return c(),u("div",{class:P(["panel-block columns",{"text-dec-line-through":e.completed==!0}]),key:e.message},[s("div",ae,[v(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":p=>e.completed=p,disabled:e.assignedTo!=((S=f(t).user)==null?void 0:S.id)},null,8,ie),[[E,e.completed]]),s("span",null,h(e.message),1)]),s("div",le,h(f(O)(String(e.dueDate)).format("MMM-DD-YYYY")),1),e.createdBy==((x=f(t).user)==null?void 0:x._id)?(c(),u("div",ce,[v(s("select",{"onUpdate:modelValue":p=>e.assignedTo=p,class:"select"},[(c(!0),u(y,null,T(o.value,p=>(c(),u("option",{value:p._id},h(p.handle),9,re))),256))],8,ue),[[D,e.assignedTo]])])):(c(),u("div",de,h((V=o.value.find(p=>p._id===e.assignedTo))==null?void 0:V.handle),1))],2)}),128))])])])])]))}},_e={class:"section"},me={class:"container"},ve={class:"columns"},he={class:"column"},ge={class:"panel"},fe={class:"panel-block"},be=["onSubmit"],ke={class:"control has-icons-left"},$e=s("span",{class:"icon is-left"},[s("i",{class:"fas fa-calendar-plus","aria-hidden":"true"})],-1),ye=s("option",{disabled:"",selected:""},"Assign to",-1),Te=s("button",{type:"submit",class:"button"},"Create",-1),we=Y('<a class="panel-block columns title is-4"><div class="column is-two-quarter"><span class="Heading">Task Title</span></div><div class="column is-one-quarter"> Due Date </div><div class="column is-one-quarter"> Assigned To </div></a>',1),Ue={class:"column is-two-quarter"},Se=["onUpdate:modelValue","disabled"],xe={class:"column is-one-quarter"},Ve={key:0,class:"select column is-one-quarter"},Ne=["onUpdate:modelValue"],qe=["value"],De={key:1,class:"column is-one-quarter"},Le={setup(a){const t=U();_("All");const n=F(),i=_([]);n.completedTasks().then(b=>{i.value=n.completedTasks});const o=_([]);t.getUsers().then(b=>{o.value=t.users});const l=_(),m=_(),r=_();function g(){n.addNewTask(l.value,m.value,r.value,t.user._id).then(()=>{n.currentUserTasks().then(()=>{allTasks.value=n.tasks})})}return(b,d)=>(c(),u("div",_e,[s("div",me,[s("div",ve,[s("div",he,[s("article",ge,[s("div",fe,[s("form",{onSubmit:A(g,["prevent"])},[s("p",ke,[v(s("input",{class:"input is-primary",type:"text",placeholder:"New Task","onUpdate:modelValue":d[0]||(d[0]=e=>l.value=e)},null,512),[[k,l.value]]),w(" "+h(l.value)+" ",1),$e]),s("div",null,[v(s("input",{type:"date",class:"input","onUpdate:modelValue":d[1]||(d[1]=e=>m.value=e)},null,512),[[k,m.value]]),v(s("select",{"onUpdate:modelValue":d[2]||(d[2]=e=>r.value=e)},[ye,(c(!0),u(y,null,T(o.value,e=>(c(),u("option",{key:e._id},h(e.handle),1))),128))],512),[[D,r.value]]),Te])],40,be)]),we,(c(!0),u(y,null,T(i.value,e=>{var S,x,V;return c(),u("div",{class:P(["panel-block columns",{"text-dec-line-through":e.completed==!0}]),key:e.message},[s("div",Ue,[v(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":p=>e.completed=p,disabled:e.assignedTo!=((S=f(t).user)==null?void 0:S._id)},null,8,Se),[[E,e.completed]]),s("span",null,h(e.message),1)]),s("div",xe,h(f(O)(String(e.dueDate)).format("MMM-DD-YYYY")),1),e.createdBy==((x=f(t).user)==null?void 0:x._id)?(c(),u("div",Ve,[v(s("select",{"onUpdate:modelValue":p=>e.assignedTo=p,class:"select"},[(c(!0),u(y,null,T(o.value,p=>(c(),u("option",{value:p._id},h(p.handle),9,qe))),256))],8,Ne),[[D,e.assignedTo]])])):(c(),u("div",De,h((V=o.value.find(p=>p._id===e.assignedTo))==null?void 0:V.handle),1))],2)}),128))])])])])]))}},Ae=[{path:"/",redirect:"/tasks"},{path:"/tasks",component:Ts},{path:"/completedtasks",component:Le},{path:"/currenttasks",component:pe},{path:"/signup",component:Ws},{path:"/login",component:As}],q=K({history:G(),routes:Ae,linkActiveClass:"is-active"});q.beforeEach((a,t)=>{const n=U();["/tasks","/completedtasks","/currenttasks"].includes(a.path)?n.user||q.push("/login"):["/login","/signup"].includes(a.path)&&n.user&&q.push("/tasks")});const M=B("messages",{state:()=>({notifications:[]}),actions:{close(a){this.notifications.splice(a,1)}}}),Ce="https://todoapp-adi.herokuapp.com/api/";function Me(a,t,n,i){let o={headers:i};return t&&(o={method:n!=null?n:"POST",cache:"no-cache",headers:H({"Content-Type":"application/json"},i),body:JSON.stringify(t)}),fetch(Ce+a,o).then(l=>l.json())}const U=B("session",{state:()=>({user:null,users:[],destinationUrl:null}),actions:{async Login(a,t){var i;const n=M();try{const o=await this.api("users/login",{email:a,password:t});o&&(n.notifications.push({type:"success",message:`Welcome back ${o.firstName}!`}),this.user=o,q.push((i=this.destinationUrl)!=null?i:"/tasks"))}catch(o){n.notifications.push({type:"danger",message:o.message}),console.table(n.notifications)}},async Signup(a){var n;const t=M();try{const i=await this.api("users",a,"POST");i&&(t.notifications.push({type:"success",message:`Welcome back ${i.firstName}!`}),this.user=i,q.push((n=this.destinationUrl)!=null?n:"/tasks"))}catch(i){t.notifications.push({type:"danger",message:i.message}),console.table(t.notifications)}},async getUsers(){this.users=await this.api("users")},Logout(){this.user=null,q.push("/login")},async api(a,t,n,i={}){var l,m;const o=M();(l=this.user)!=null&&l.token&&(i.Authorization=`Bearer ${this.user.token}`);try{const r=await Me(a,t,n,i);if((m=r.errors)!=null&&m.length)throw{message:r.errors.join(", ")};return await r.data}catch(r){o.notifications.push({type:"danger",message:r.message})}}}});var Be=(a,t)=>{const n=a.__vccOpts||a;for(const[i,o]of t)n[i]=o;return n};const I=a=>(Q("data-v-4173ca94"),a=a(),X(),a),Ye={key:0,class:"buttons"},Pe=I(()=>s("strong",null,"Sign up",-1)),Ee=w(" Log in "),Oe={key:1,class:"buttons"},Fe={class:"avatar"},Ie=["src"],je=w(),ze=I(()=>s("br",null,null,-1)),He=I(()=>s("strong",null,"Log out",-1)),We=[He],Re=C({setup(a){const t=U();return(n,i)=>{const o=L("router-link");return f(t).user?(c(),u("div",Oe,[s("div",Fe,[s("img",{src:f(t).user.pic},null,8,Ie),s("div",null,[s("strong",null,h(f(t).user.name),1),je,ze,s("i",null,h(f(t).user.email),1)])]),s("a",{class:"button is-primary",onClick:i[0]||(i[0]=l=>f(t).Logout())},We)])):(c(),u("div",Ye,[$(o,{class:"button is-primary",to:"/signup"},{default:N(()=>[Pe]),_:1}),$(o,{class:"button is-light",to:"/login"},{default:N(()=>[Ee]),_:1})]))}}});var Je=Be(Re,[["__scopeId","data-v-4173ca94"]]);const Ke={class:"navbar is-primary"},Ge={class:"navbar-brand"},Qe=s("img",{src:"https://bulma.io/images/bulma-logo-white.png",alt:"Bulma: a modern CSS framework based on Flexbox",width:"112",height:"28"},null,-1),Xe=s("div",{class:"navbar-burger","data-target":"navbarExampleTransparentExample"},[s("span"),s("span"),s("span")],-1),Ze={id:"navbarExampleTransparentExample",class:"navbar-menu"},st={key:0,class:"navbar-start"},et=w(" Tasks "),tt=w(" Completed Tasks "),nt=w(" Current Tasks "),ot={class:"navbar-end"},at={class:"navbar-item"},it=C({setup(a){const t=U();return(n,i)=>{const o=L("router-link");return c(),u("nav",Ke,[s("div",Ge,[$(o,{class:"navbar-item",to:"/"},{default:N(()=>[Qe]),_:1}),Xe]),s("div",Ze,[f(t).user?(c(),u("div",st,[$(o,{class:"navbar-item",to:"/tasks"},{default:N(()=>[et]),_:1}),$(o,{class:"navbar-item",to:"/completedtasks"},{default:N(()=>[tt]),_:1}),$(o,{class:"navbar-item",to:"/currenttasks"},{default:N(()=>[nt]),_:1})])):Z("",!0),s("div",ot,[s("div",at,[$(Je)])])])])}}});const lt={class:"container"},ct={setup(a){return(t,n)=>{const i=L("router-view");return c(),u(y,null,[$(it),s("div",lt,[$(i)])],64)}}};ss(ct).use(q).use(es()).mount("#app");
